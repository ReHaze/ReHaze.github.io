var link=document.querySelector(".login"),modal=document.querySelector(".pop-up"),close=document.querySelector(".close"),login=modal.querySelector("[name=login]"),password=modal.querySelector("[name=password]"),form=modal.querySelector("form"),storage=localStorage.getItem("login"),mapLink=document.querySelector(".map-link"),map=document.querySelector(".modal-map"),mapClose=document.querySelector(".close-map"),overlay=document.querySelector(".overlay");link.addEventListener("click",function(e){e.preventDefault(),modal.classList.add("show-modal"),storage?(login.value=storage,password.focus()):login.focus()}),close.addEventListener("click",function(e){e.preventDefault(),modal.classList.remove("show-modal"),modal.classList.remove("modal-error")}),window.addEventListener("keydown",function(e){27===e.keyCode&&modal.classList.contains("show-modal")&&(modal.classList.remove("show-modal"),modal.classList.remove("modal-error"))}),form.addEventListener("submit",function(e){login.value&&password.value?localStorage.setItem("login",login.value):(e.preventDefault(),console.log("нужно ввести пароль"),modal.classList.add("modal-error"))}),mapLink.addEventListener("click",function(e){e.preventDefault(),map.classList.add("map-show"),overlay.classList.add("overlay-show")}),mapClose.addEventListener("click",function(e){map.classList.remove("map-show"),overlay.classList.remove("overlay-show")});